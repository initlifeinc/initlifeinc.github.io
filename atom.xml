<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[initlife's Blog]]></title>
  <link href="http://initlifeinc.github.io/atom.xml" rel="self"/>
  <link href="http://initlifeinc.github.io/"/>
  <updated>2015-08-18T11:12:27+08:00</updated>
  <id>http://initlifeinc.github.io/</id>
  <author>
    <name><![CDATA[initlife]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Bitbucket]]></title>
    <link href="http://initlifeinc.github.io/blog/2015/08/18/bitbucket/"/>
    <updated>2015-08-18T11:07:27+08:00</updated>
    <id>http://initlifeinc.github.io/blog/2015/08/18/bitbucket</id>
    <content type="html"><![CDATA[<h1>完美的私人仓库</h1>

<p>一直想弄个私人仓库，最好无限制创建私人仓库。最好还能有个team可以共享访问私人仓库。本来差点就要去自己搭建一个gitlab了，然后突然看到bitbucket，发现原来完美的私人仓库就是他了。</p>

<p>果断申请账号（必须是免费的5人组team形势的），然后折腾一番将自己的一些小代码放上去。
中间碰到了一些问题，以为类似github上的ssh key的添加，结果添加ssh key到repo里的一个deployment key去了（这个应该是用来专门部署的时候用的key，只读性质的）。
查了下，发现overflow上有人说明了原因，果断尝试了OK解决问题，看客们自己也试试吧，值得推荐！</p>

<p><a href="http://stackoverflow.com/questions/13306435/repository-access-denied-access-via-a-deployment-key-is-read-only/13309843#13309843">http://stackoverflow.com/questions/13306435/repository-access-denied-access-via-a-deployment-key-is-read-only/13309843#13309843</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>First confusion on my side was about where exactly to set SSH Keys in BitBucket.
</span><span class='line'>
</span><span class='line'>I am new to BitBucket and I was setting a Deployment Key which gives read-access only.
</span><span class='line'>
</span><span class='line'>So make sure you are setting your rsa pub key in your BitBucket Account Settings.
</span><span class='line'>
</span><span class='line'>Click your BitBucket avatar and select Manage account. There you'll be able to set SSH Keys.
</span><span class='line'>
</span><span class='line'>I simply deleted the Deployment Key, I don't need any for now. And it worked</span></code></pre></td></tr></table></div></figure>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[发布自己的github上的cocoaPods Pod库]]></title>
    <link href="http://initlifeinc.github.io/blog/2015/06/30/fa-bu-zi-ji-de-githubshang-de-cocoapods-podku/"/>
    <updated>2015-06-30T21:01:40+08:00</updated>
    <id>http://initlifeinc.github.io/blog/2015/06/30/fa-bu-zi-ji-de-githubshang-de-cocoapods-podku</id>
    <content type="html"><![CDATA[<p>今天第一次在github上publish一个ILEditLabel控件，同时支持了cocoapods查找该pod库。</p>

<p>这里简单说下几个小坑。</p>

<p>提交前注意给你的github的代码打tag，比如这里的0.0.1，然后编写podspec文件，对应好里面的source的tag，其实可以将pod的tag和你的库的tag一致，这样方便记忆。</p>

<p>然后你需要执行pod spec lint specFile测试下是否spec文件编写正确。</p>

<p>如果发现远程tag打错了，你可以通过命令<code>git push origin refs/tags/yourtag</code>来删除远程tag。</p>

<p>通过podspec文件的检测后，就到了发布该spec文件了。</p>

<p>那就是需要通过<code>pod trunk push specFile</code>的方式来提交spec文件到cocoapods上。</p>

<p>但是由于我是第一次提交，执行命令后提示：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>You need to register a session first.</span></code></pre></td></tr></table></div></figure>


<p>所以需要参照cocoapods上的这篇文章<a href="http://guides.cocoapods.org/making/getting-setup-with-trunk.html">Getting setup with Trunk</a>先注册自己的session。</p>

<p>注册需要执行如下命令：</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>pod trunk register orta@cocoapods.org 'Orta Therox' --description='macbook air'</span></code></pre></td></tr></table></div></figure>


<p>然后你就会在你输入的orta@cocoapods.org邮箱里收到一个email，点击里面的连接完成认证，之后你就可以完成提交。至此自己故障庆祝吧~~~</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Git及github使用，github多账号免登]]></title>
    <link href="http://initlifeinc.github.io/blog/2015/03/05/gitji-githubshi-yong-,githubduo-zhang-hao-mian-deng/"/>
    <updated>2015-03-05T12:34:00+08:00</updated>
    <id>http://initlifeinc.github.io/blog/2015/03/05/gitji-githubshi-yong-,githubduo-zhang-hao-mian-deng</id>
    <content type="html"><![CDATA[<h1>git使用及github</h1>

<p>git 和github越来越多人使用，作为一个程序员，应该懂的怎么去用，而我就是个不怎么会用的人，所以我的主管在我刚开始上班的时候就要我去熟悉git那套东西。</p>

<p>当时我依然不是很懂，但最近开始迷糊的懂了，下面是我这段时间的心得。</p>

<h2>创建ssh从而能免登访问github。</h2>

<p>命令<code>ssh-keygen</code>去创建公钥私钥，如果你只希望访问一个服务器的话，比如github，那么你就放到默认的目录下，并且使用默认的私钥和公钥文件路径，即~/.ssh/id_rsa和~/.ssh/id_rsa.pub，其中id_rsa.pub是公钥文件。我们需要将这个文件里的数据复制并粘贴到github上的ssh key里。从而通过ssh就可以面等访问github了。</p>

<p>   如果你有多个服务器需要访问，比如我们还需要访问gitlab，那么，这个时候，需要~/.ssh/config文件里的配置来区分服务器和ssh秘钥。(记得添加rsa 命令：ssh-add ~/.ssh/your_rsa)</p>

<p>   比如我自己的配置为</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Host github.com
</span><span class='line'>  HostName github.com
</span><span class='line'>  User taoxiaoseng@gmail.com
</span><span class='line'>  IdentityFile /Users/Dick/.ssh/github_taoxiaoseng_rsa
</span><span class='line'>  
</span><span class='line'>Host gitlab.alibaba-inc.com
</span><span class='line'>  HostName gitlab.alibaba-inc.com
</span><span class='line'>  User guodi.ggd@taobao.com
</span><span class='line'>  IdentityFile /Users/Dick/.ssh/gitlab_rsa</span></code></pre></td></tr></table></div></figure>


<p>也就是说访问github用文件github_taoxiaoseng_rsa，访问gitlab用gitlab_rsa。注意公钥也需要上传到相应的服务器里。</p>

<!-- more -->


<p>注意实际上这里的host只是你git进行命令操作的是昵称，告诉git实际上的hsotName在哪里，用什么账号名去登陆，账号对应的证书是哪个。</p>

<p>所以在设置origin的时候，要考虑将这个替换下（如果涉及多账号的话）（多账号下不要随意乱复制github上的教程的命令，里面都是默认的命令）</p>

<p>比如我有多账号，initlifeinc和B账号，当我需要push的时候，先特别设置origin,注意我在config里配置文件是这样的:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>Host github.com
</span><span class='line'>        HostName github.com
</span><span class='line'>        User AAAAAAA@gmail.com
</span><span class='line'>        IdentityFile /Users/Dick/.ssh/AAAAAAA_rsa
</span><span class='line'>
</span><span class='line'>Host github.com-initlife
</span><span class='line'>        HostName github.com
</span><span class='line'>        User initlife.inc@gmail.com
</span><span class='line'>        IdentityFile /Users/Dick/.ssh/github_initlife_rsa</span></code></pre></td></tr></table></div></figure>


<p>设置origin是这样的</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git remote add origin git@github.com-initlife:initlifeinc/initlifeinc.github.io.git</span></code></pre></td></tr></table></div></figure>


<p>这样当我执行<code>git push origin source</code>的时候，就会将当前分支的代码push到远程仓库里的source分支了。</p>

<p>其实还有些网上也经常说，这里不细提了。比如这些东西</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>git config --global user.name "you name"
</span><span class='line'>git config --global user.email youremail@gmail.com</span></code></pre></td></tr></table></div></figure>


<h2>如何创建git仓库</h2>

<p>其实每次你创建github里的仓库时，都会告诉你怎么去push，这里还是做下说明，讲我理解的说下。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mkdir helloworld         
</span><span class='line'>cd helloworld
</span><span class='line'>git init          创建一个空的数据仓库
</span><span class='line'>touch readme.md
</span><span class='line'>git add .         自动判断添加相应文件到git中
</span><span class='line'>git commit -m "commit first file"         提交并且添加提交日志
</span><span class='line'>git remote add origin git@github.com:TaoXiaoSeng/test.git 这个最关键，说的是在本地git中添加remote的git地址，并且以origin命名，这样以后我们就不需要每次都写git地址了。实际上他在.git目录里的config添加了一条记录，类似这样的。注意我这里特意加了两个，地址不一样。注意github区分大小写的仓库路径（我的用户名有大小写，如果不完全匹配则认为访问不到了。）。另外注意这里的branch，当你init的时候默认创建的就是master。
</span><span class='line'>          [remote "origin"]
</span><span class='line'>              url = git@github.com:taoxiaoseng/test.git
</span><span class='line'>              fetch = +refs/heads/*:refs/remotes/origin/*
</span><span class='line'>          [remote "remote"]
</span><span class='line'>              url = git@github.com:TaoXiaoSeng/test.git
</span><span class='line'>              fetch = +refs/heads/*:refs/remotes/remote/*git 
</span><span class='line'>          [branch "master"]
</span><span class='line'>              remote = remote
</span><span class='line'>              merge = refs/heads/master
</span><span class='line'>git push -u origin master         向远程origin对应的仓库里push本地master分支。这里用-u是类似使用upstream的意思?</span></code></pre></td></tr></table></div></figure>


<h2>其他git命令</h2>

<p>git branch      罗列所有分支
git branch branchname   创建分支
git checkout branchname     切换分支
git branch -d branchname    假删除分支，如果是分支是当前正在运行的分支，则删除失败
git branch -D branchname    真删除分支</p>

<p>git ls-remote       查看远程版本库中的分支情况
git push remote :branchname     远程删除分支，注意如果分支是默认分支，则删除失败</p>

<h2>里程碑管理</h2>

<p>里程碑及tag，和分支管理类似，保存在.git/refs/tags路径下，引用可能指向一个提交，但也可能是其他类型。</p>

<ul>
<li>轻量级里程碑：用git tag <tagname> [<commit>]命令创建，引用直接指向一个提交对象<commit></li>
<li>带说明的里程碑：用git tag -a <tagname> [<commit>] 命令创建，并且在创建时需要提供创建里程碑的说明。Git会创建一个tag对象保存里程碑说明、里程碑的指向、创建里程碑的用户等信息，里程碑引用指向该Tag对象。</li>
<li>带签名的里程碑：用git tag -s <tagname> [<commit>] 命令创建。是在带说明的里程碑的基础上引入了PGP签名，保证了所创建的里程碑的完整性和不可拒绝性。</li>
</ul>

]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Git使用及github]]></title>
    <link href="http://initlifeinc.github.io/blog/2015/03/05/gitshi-yong-ji-github/"/>
    <updated>2015-03-05T02:06:36+08:00</updated>
    <id>http://initlifeinc.github.io/blog/2015/03/05/gitshi-yong-ji-github</id>
    <content type="html"><![CDATA[<h1>hahaha</h1>
]]></content>
  </entry>
  
</feed>
